# Instructions

- Following Playwright test failed.
- Explain why, be concise, respect Playwright best practices.
- Provide a snippet of code with the fix, if possible.

# Test info

- Name: Registration Page Validation >> Registration with valid data / TC 6
- Location: /home/user/Documents/QA_Automation_projects/Playwright/Pl project Buggy Rating/tests/test/registerPage.spec.ts:13:9

# Error details

```
Error: Timed out 5000ms waiting for expect(locator).toHaveText(expected)

Locator: locator('.result')
Expected pattern: /Registration is successful/i
Received: <element(s) not found>
Call log:
  - expect.toHaveText with timeout 5000ms
  - waiting for locator('.result')

    at /home/user/Documents/QA_Automation_projects/Playwright/Pl project Buggy Rating/tests/test/registerPage.spec.ts:29:63
```

# Page snapshot

```yaml
- banner:
  - navigation:
    - link "Buggy Rating"
    - textbox "Login"
    - textbox
    - button "Login"
    - link "Register"
  - heading "Buggy Cars Rating" [level=1]
  - img
- main:
  - main:
    - heading "Register with Buggy Cars Rating" [level=2]
    - text: Login
    - textbox "Login": D4EFMT4D
    - text: First Name
    - textbox "First Name": Fausto
    - text: Last Name
    - textbox "Last Name": Heidenreich-Nienow
    - text: Password
    - textbox "Password": 3I9!8Kf41!Serg
    - text: Confirm Password
    - textbox "Confirm Password": 3I9!8Kf41!Serg
    - button "Register" [disabled]
    - button "Cancel"
  - separator
  - link "Facebook":
    - img
  - link "Twitter":
    - img
  - paragraph: Â© 2016 Buggy Software, Inc.
```

# Test source

```ts
   1 | import { test, expect } from '@playwright/test';
   2 | import { RegisterPage } from '../page/RegisterPage';
   3 | import { faker } from '@faker-js/faker';
   4 |
   5 | test.describe('Registration Page Validation', () => {
   6 |     let registerPage: RegisterPage;
   7 |
   8 |     test.beforeEach(async ({ page }) => {
   9 |         registerPage = new RegisterPage(page);
   10 |         await registerPage.goto();
   11 |     });
   12 |
   13 |     test('Registration with valid data / TC 6', async () => {
   14 |         const validLogin = faker.string.alphanumeric(8);
   15 |         const validFirstName = faker.person.firstName();
   16 |         const validLastName = faker.person.lastName();
   17 |         const validPassword = faker.internet.password({ length: 8, memorable: false, pattern: /[a-zA-Z0-9!@#$%^&*()]/ })+ '1!Serg';
   18 |
   19 |         await registerPage.fillForm({
   20 |             login: validLogin,
   21 |             firstName: validFirstName,
   22 |             lastName: validLastName,
   23 |             password: validPassword,
   24 |             confirmPassword: validPassword,
   25 |         });
   26 |
   27 |         await registerPage.clickRegisterButton();
   28 |
>  29 |         await expect(registerPage.getSuccessMessageLocator()).toHaveText(/Registration is successful/i);
      |                                                               ^ Error: Timed out 5000ms waiting for expect(locator).toHaveText(expected)
   30 |     });
   31 |
   32 |     test('Registration with invalid Login / TC 7', async () => {
   33 |         const validFirstName = faker.person.firstName();
   34 |         const validLastName = faker.person.lastName();
   35 |         const validPassword = faker.internet.password({ length: 8, memorable: false, pattern: /[a-zA-Z0-9]/ });
   36 |
   37 |         await registerPage.fillForm({
   38 |             firstName: validFirstName,
   39 |             lastName: validLastName,
   40 |             password: validPassword,
   41 |             confirmPassword: validPassword,
   42 |         });
   43 |
   44 |         await expect(registerPage.isRegisterButtonDisabled()).resolves.toBeTruthy();
   45 |     });
   46 |
   47 |     test('Registration with invalid First Name / TC 8', async () => {
   48 |         const validLogin = faker.string.alphanumeric(8);
   49 |         const validLastName = faker.person.lastName();
   50 |         const validPassword = faker.internet.password({ length: 8, memorable: false, pattern: /[a-zA-Z0-9]/ });
   51 |
   52 |         await registerPage.fillForm({
   53 |             login: validLogin,
   54 |             lastName: validLastName,
   55 |             password: validPassword,
   56 |             confirmPassword: validPassword,
   57 |         });
   58 |
   59 |         await expect(registerPage.isRegisterButtonDisabled()).resolves.toBeTruthy();
   60 |     });
   61 |
   62 |     test('Registration with invalid Last Name / TC 9', async () => {
   63 |         const validLogin = faker.string.alphanumeric(8);
   64 |         const validFirstName = faker.person.firstName();
   65 |         const validPassword = faker.internet.password({ length: 8, memorable: false, pattern: /[a-zA-Z0-9]/ });
   66 |
   67 |         await registerPage.fillForm({
   68 |             login: validLogin,
   69 |             firstName: validFirstName,
   70 |             password: validPassword,
   71 |             confirmPassword: validPassword,
   72 |         });
   73 |
   74 |         await expect(registerPage.isRegisterButtonDisabled()).resolves.toBeTruthy();
   75 |
   76 |     });
   77 |
   78 |     test('Registration when passwords do not match / TC 10', async () => {
   79 |         const validLogin = faker.string.alphanumeric(8);
   80 |         const validFirstName = faker.person.firstName();
   81 |         const validLastName = faker.person.lastName();
   82 |         const validPassword = faker.internet.password({ length: 8, memorable: false, pattern: /[a-zA-Z0-9]/ });
   83 |         const invalidConfirmPassword = faker.internet.password({ length: 4, memorable: false, pattern: /[a-zA-Z0-9]/ });
   84 |
   85 |         await registerPage.fillForm({
   86 |             login: validLogin,
   87 |             firstName: validFirstName,
   88 |             lastName: validLastName,
   89 |             password: validPassword,
   90 |             confirmPassword: invalidConfirmPassword,
   91 |         });
   92 |
   93 |         await expect(registerPage.isRegisterButtonDisabled()).resolves.toBeTruthy();
   94 |
   95 |
   96 |         const errorMessage = await registerPage.getPasswordMismatchError();
   97 |         expect(errorMessage).toContain('Passwords do not match');
   98 |     });
   99 |
  100 |     test('Registration with empty fields / TC 11', async () => {
  101 |         await registerPage.fillForm({});
  102 |
  103 |         await expect(registerPage.isRegisterButtonDisabled()).resolves.toBeTruthy();
  104 |
  105 |     });
  106 | });
  107 |
  108 |
  109 |
  110 |
  111 |
  112 | // import { test, expect } from '@playwright/test';
  113 | // import { RegisterPage } from '../page/RegisterPage';
  114 | // import { faker } from '@faker-js/faker';
  115 |
  116 | // test.describe('Registration Page Validation', () => {
  117 | //     let registerPage;
  118 |
  119 | //     test.beforeEach(async ({ page }) => {
  120 | //         registerPage = new RegisterPage(page);
  121 | //         await registerPage.goto();
  122 | //     });
  123 |
  124 | //     test('Registretion with valid data / TC 6', async () => {
  125 | //         const validLogin = faker.string.alphanumeric(8);
  126 | //         const validFirstName = faker.person.firstName();
  127 | //         const validLastName = faker.person.lastName();
  128 | //         const validPassword = faker.internet.password({ length: 8, memorable: false, pattern: /[a-zA-Z0-9]/ });
  129 |         
```