# Instructions

- Following Playwright test failed.
- Explain why, be concise, respect Playwright best practices.
- Provide a snippet of code with the fix, if possible.

# Test info

- Name: Registration Page Validation >> Registration with invalid Login / TC 7
- Location: /home/user/Documents/QA_Automation_projects/Playwright/Pl project Buggy Rating/tests/test/registerPage.spec.ts:32:9

# Error details

```
Error: locator.click: Test timeout of 30000ms exceeded.
Call log:
  - waiting for locator('.btn-default')
    - locator resolved to <button disabled type="submit" _ngcontent-pbf-4="" class="btn btn-default">Register</button>
  - attempting click action
    2 × waiting for element to be visible, enabled and stable
      - element is not enabled
    - retrying click action
    - waiting 20ms
    2 × waiting for element to be visible, enabled and stable
      - element is not enabled
    - retrying click action
      - waiting 100ms
    53 × waiting for element to be visible, enabled and stable
       - element is not enabled
     - retrying click action
       - waiting 500ms

    at RegisterPage.clickRegisterButton (/home/user/Documents/QA_Automation_projects/Playwright/Pl project Buggy Rating/tests/page/RegisterPage.ts:81:35)
    at /home/user/Documents/QA_Automation_projects/Playwright/Pl project Buggy Rating/tests/test/registerPage.spec.ts:44:28
```

# Page snapshot

```yaml
- banner:
  - navigation:
    - link "Buggy Rating"
    - textbox "Login"
    - textbox
    - button "Login"
    - link "Register"
  - heading "Buggy Cars Rating" [level=1]
  - img
- main:
  - main:
    - heading "Register with Buggy Cars Rating" [level=2]
    - text: Login
    - textbox "Login"
    - text: First Name
    - textbox "First Name": Lucy
    - text: Last Name
    - textbox "Last Name": Rowe
    - text: Password
    - textbox "Password": 8lCWlmfv
    - text: Confirm Password
    - textbox "Confirm Password": 8lCWlmfv
    - button "Register" [disabled]
    - button "Cancel"
  - separator
  - link "Facebook":
    - img
  - link "Twitter":
    - img
  - paragraph: © 2016 Buggy Software, Inc.
```

# Test source

```ts
   1 | import { Page, Locator } from '@playwright/test';
   2 |
   3 | class RegisterPage {
   4 |     private page: Page;
   5 |
   6 |     // Локатори
   7 |     private loginFieldSelector: string = '#username';
   8 |     private firstNameFieldSelector: string = '#firstName';
   9 |     private lastNameFieldSelector: string = '#lastName';
   10 |     private passwordFieldSelector: string = '#password';
   11 |     private confirmPasswordFieldSelector: string = '#confirmPassword';
   12 |     private registerButtonSelector: string = '.btn-default';
   13 |     private errorMessageForPasswordsSelector: string = '(//div[@class="alert alert-danger"])[6]';
   14 |     private successMessageAfterRegistrationSelector: string = '.result';
   15 |
   16 |     constructor(page: Page) {
   17 |         this.page = page;
   18 |     }
   19 |
   20 |     // Геттери
   21 |     get loginField(): Locator {
   22 |         return this.page.locator(this.loginFieldSelector);
   23 |     }
   24 |
   25 |     get firstNameField(): Locator {
   26 |         return this.page.locator(this.firstNameFieldSelector);
   27 |     }
   28 |
   29 |     get lastNameField(): Locator {
   30 |         return this.page.locator(this.lastNameFieldSelector);
   31 |     }
   32 |
   33 |     get passwordField(): Locator {
   34 |         return this.page.locator(this.passwordFieldSelector);
   35 |     }
   36 |
   37 |     get confirmPasswordField(): Locator {
   38 |         return this.page.locator(this.confirmPasswordFieldSelector);
   39 |     }
   40 |
   41 |     get registerButton(): Locator {
   42 |         return this.page.locator(this.registerButtonSelector);
   43 |     }
   44 |
   45 |     get errorMessageForPasswords(): Locator {
   46 |         return this.page.locator(this.errorMessageForPasswordsSelector);
   47 |     }
   48 |
   49 |     // Методи
   50 |     async goto() {
   51 |         await this.page.goto('/register');
   52 |     }
   53 |
   54 |     async fillField(locator: Locator, value: string | undefined) {
   55 |         if (value !== undefined) {
   56 |             await locator.fill(value);
   57 |         }
   58 |     }
   59 |
   60 |     async fillForm({
   61 |         login,
   62 |         firstName,
   63 |         lastName,
   64 |         password,
   65 |         confirmPassword,
   66 |     }: {
   67 |         login?: string;
   68 |         firstName?: string;
   69 |         lastName?: string;
   70 |         password?: string;
   71 |         confirmPassword?: string;
   72 |     }) {
   73 |         await this.fillField(this.loginField, login);
   74 |         await this.fillField(this.firstNameField, firstName);
   75 |         await this.fillField(this.lastNameField, lastName);
   76 |         await this.fillField(this.passwordField, password);
   77 |         await this.fillField(this.confirmPasswordField, confirmPassword);
   78 |     }
   79 |
   80 |     async clickRegisterButton() {
>  81 |         await this.registerButton.click();
      |                                   ^ Error: locator.click: Test timeout of 30000ms exceeded.
   82 |     }
   83 |
   84 |     async isRegisterButtonDisabled(): Promise<boolean> {
   85 |         return this.registerButton.isDisabled();
   86 |     }
   87 |
   88 |     getSuccessMessageLocator(): Locator {
   89 |         return this.page.locator(this.successMessageAfterRegistrationSelector);
   90 |     }
   91 |     
   92 |
   93 |     async getPasswordMismatchError(): Promise<string | null> {
   94 |         return this.errorMessageForPasswords.textContent();
   95 |     }
   96 | }
   97 |
   98 | export { RegisterPage };
   99 |
  100 |
  101 |
  102 |
  103 | // import { Page, Locator, expect } from '@playwright/test';
  104 |
  105 | // class RegisterPage {
  106 | //     private page: Page;
  107 |
  108 | //     // Локатори, які можуть змінюватися
  109 | //     private loginFieldSelector: string = '#username';
  110 | //     private firstNameFieldSelector: string = '#firstName';
  111 | //     private lastNameFieldSelector: string = '#lastName';
  112 | //     private passwordFieldSelector: string = '#password';
  113 | //     private confirmPasswordFieldSelector: string = '#confirmPassword';
  114 | //     private registerButtonSelector: string = '.btn-default';
  115 | //     private cancelButtonSelector: string = 'a.btn:nth-child(7)';
  116 | //     private errorMessageSelector: string = '.result';
  117 | //     private errorMessageForLoginSelector: string = '(//div[@class="alert alert-danger"])[1]';
  118 | //     private errorMessageForFirstNameSelector: string = '(//div[@class="alert alert-danger"])[2]';
  119 | //     private errorMessageForLastNameSelector: string = '(//div[@class="alert alert-danger"])[3]';
  120 | //     private errorMessageForPasswordSelector: string = '(//div[@class="alert alert-danger"])[4]';
  121 | //     private errorMessageForConfirmPasswordSelector: string = '(//div[@class="alert alert-danger"])[5]';
  122 | //     private errorMessageForPasswordsSelector: string = '(//div[@class="alert alert-danger"])[6]';
  123 |
  124 | //     constructor(page: Page) {
  125 | //         this.page = page;
  126 | //     }
  127 |
  128 | //     // Геттери для динамічних локаторів
  129 | //     get loginField(): Locator {
  130 | //         return this.page.locator(this.loginFieldSelector);
  131 | //     }
  132 |
  133 | //     get firstNameField(): Locator {
  134 | //         return this.page.locator(this.firstNameFieldSelector);
  135 | //     }
  136 |
  137 | //     get lastNameField(): Locator {
  138 | //         return this.page.locator(this.lastNameFieldSelector);
  139 | //     }
  140 |
  141 | //     get passwordField(): Locator {
  142 | //         return this.page.locator(this.passwordFieldSelector);
  143 | //     }
  144 |
  145 | //     get confirmPasswordField(): Locator {
  146 | //         return this.page.locator(this.confirmPasswordFieldSelector);
  147 | //     }
  148 |
  149 | //     get registerButton(): Locator {
  150 | //         return this.page.locator(this.registerButtonSelector);
  151 | //     }
  152 |
  153 | //     get cancelButton(): Locator {
  154 | //         return this.page.locator(this.cancelButtonSelector);
  155 | //     }
  156 |
  157 | //     get errorMessage(): Locator {
  158 | //         return this.page.locator(this.errorMessageSelector);
  159 | //     }
  160 |
  161 | //     get errorMessageForLogin(): Locator {
  162 | //         return this.page.locator(this.errorMessageForLoginSelector);
  163 | //     }
  164 |
  165 | //     get errorMessageForFirstName(): Locator {
  166 | //         return this.page.locator(this.errorMessageForFirstNameSelector);
  167 | //     }
  168 |
  169 | //     get errorMessageForLastName(): Locator {
  170 | //         return this.page.locator(this.errorMessageForLastNameSelector);
  171 | //     }
  172 |
  173 | //     get errorMessageForPassword(): Locator {
  174 | //         return this.page.locator(this.errorMessageForPasswordSelector);
  175 | //     }
  176 |
  177 | //     get errorMessageForConfirmPassword(): Locator {
  178 | //         return this.page.locator(this.errorMessageForConfirmPasswordSelector);
  179 | //     }
  180 |
  181 | //     get errorMessageForPasswords(): Locator {
```